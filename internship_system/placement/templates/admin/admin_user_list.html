<!DOCTYPE html>
<html>
<head>
    <title>Admin - User Management</title>
</head>
<body>

<h1>User Management</h1>

<a href="{% url 'admin_add_user' %}">âž• Add User</a>


<h2>Students</h2>
<table border="1">
<tr>
  <th>Username</th>
  <th>Program</th>
  <th>Semester</th>
  <th>Academic Supervisor</th>
  <th>Actions</th>
</tr>
{% for user in students %}
<tr>
  <td>{{ user.username }}</td>
  <td>{{ user.student.program }}</td>
  <td>{{ user.student.semester }}</td>
  <td>{{ user.student.academic_supervisor }}</td>
  <td style="min-width:160px;">
    <a href="{% url 'admin_user_edit' user.id %}" style="margin-right:8px;">
    <button type="button">Edit</button>
    </a>

    <form method="post"
          action="{% url 'admin_user_delete' user.id %}"
          style="display:inline;"
          onsubmit="return confirm('Are you sure?');">
        {% csrf_token %}
        <button type="submit">Delete</button>
    </form>
  </td>
</tr>
{% endfor %}
</table>

<h2>Academic Supervisors</h2>
<table border="1">
<tr>
  <th>Username</th>
  <th>Department</th>
  <th>Actions</th>
</tr>

{% for user in academics %}
<tr>
  <td>{{ user.username }}</td>
  <td>{{ user.academicsupervisor.department }}</td>
  <td style="min-width:160px;">
    <a href="{% url 'admin_user_edit' user.id %}" style="margin-right:8px;">
    <button type="button">Edit</button>
    </a>

    <form method="post"
          action="{% url 'admin_user_delete' user.id %}"
          style="display:inline;"
          onsubmit="return confirm('Are you sure?');">
        {% csrf_token %}
        <button type="submit">Delete</button>
    </form>
</td>
</tr>
{% endfor %}
</table>

<h2>Company Supervisors</h2>
<table border="1">
<tr>
  <th>Username</th>
  <th>Company</th>
  <th>Actions</th>
</tr>

{% for user in companies %}
<tr>
  <td>{{ user.username }}</td>
  <td>{{ user.companysupervisor.company.company_name }}</td>
  <td style="min-width:160px;">
    <a href="{% url 'admin_user_edit' user.id %}" style="margin-right:8px;">
    <button type="button">Edit</button>
    </a>

    <form method="post"
          action="{% url 'admin_user_delete' user.id %}"
          style="display:inline;"
          onsubmit="return confirm('Are you sure?');">
        {% csrf_token %}
        <button type="submit">Delete</button>
    </form>
</td>

</tr>
{% endfor %}
</table>

</body>
</html>


