{% extends "academic_dashboard.html" %}

{% block content %}
<h2>Logbook Review</h2>

{% if logbooks %}
    {% for logbook in logbooks %}
        <h3>{{ logbook.student.user.get_full_name }} â€” Week {{ logbook.week_no }}</h3>

        <table border="1" cellpadding="8">
            <tr>
                <th>Student</th><td>{{ logbook.student.user.username }}</td>
            </tr>
            <tr>
                <th>Week</th><td>{{ logbook.week_no }}</td>
            </tr>
            <tr>
                <th>Submitted Date</th><td>{{ logbook.submitted_date }}</td>
            </tr>
            <tr>
                <th>Status</th><td><strong>{{ logbook.status }}</strong></td>
            </tr>
        </table>

        <h4>Logbook Content</h4>
        <p style="white-space: pre-wrap;">{{ logbook.content }}</p>

        <h4>Company Approval</h4>
        {% if logbook.company_approval == True %}
            <p style="color:green;">Approved by Company Supervisor</p>
        {% elif logbook.company_approval == False %}
            <p style="color:red;">Rejected by Company Supervisor</p>
        {% else %}
            <p>Pending Company Approval</p>
        {% endif %}

        <hr>
    {% endfor %}
{% else %}
    <p>No logbooks available yet for your students.</p>
{% endif %}

{% endblock %}
